<!doctype html>
<html lang="it">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Filiera • Admin Pro</title>
  <link rel="stylesheet" href="/assets/admin-pro.css">
</head>
<body>

<div class="wrap">
  <aside class="side">
    <div class="sideBrand">
      <div class="sideLogo">⚙️</div>
      <div>
        <div class="sideTitle">Admin Pro</div>
        <div class="sideSub">Gestione piattaforma Filiera</div>
      </div>
    </div>

    <div class="authBox">
      <div class="authRow">
        <div class="dot" id="dot"></div>
        <div>
          <div class="authTop" id="authTop">Non autenticato</div>
          <div class="authSub" id="authSub">Ruolo: —</div>
        </div>
      </div>

      <div class="authForm" id="loginBox">
        <input class="in" id="au" placeholder="admin username">
        <input class="in" id="ap" type="password" placeholder="admin password">
        <button class="btn primary" id="btnAdminLogin">Login Admin</button>
        <div class="msg" id="aMsg"></div>
        <div class="hint">Login: <b>POST /auth/login</b> (se diverso, cambia nel JS).</div>
      </div>

      <div class="authTools">
        <button class="btn" id="btnSwagger">Swagger</button>
        <button class="btn danger" id="btnAdminLogout">Logout</button>
      </div>
    </div>

    <div class="navTitle">Moduli</div>
    <div class="nav" id="nav"></div>

    <div class="navTitle">Azioni 1-Click</div>
    <div class="quick" id="quick"></div>

    <div class="foot">
      Se un endpoint richiede ruolo, fai login admin e riprova.
    </div>
  </aside>

  <main class="main">
    <header class="top">
      <div>
        <div class="h1" id="h1">Dashboard</div>
        <div class="h2" id="h2">Crea e gestisci tutto in modo rapido</div>
      </div>

      <div class="topRight">
        <div class="field">
          <label>Base URL</label>
          <input class="in" id="baseUrl" placeholder="http://localhost:8080">
        </div>
        <div class="field">
          <label>Buyer ID (per carrello)</label>
          <input class="in" id="buyerIdAdmin" placeholder="1">
        </div>
        <button class="btn" id="btnSave">Salva</button>
      </div>
    </header>

    <section class="grid">
      <div class="card">
        <div class="cardHead">
          <div>
            <div class="cardTitle" id="listTitle">Elenco</div>
            <div class="cardSub" id="listSub">—</div>
          </div>
          <div class="row">
            <input class="in" id="q" placeholder="Cerca…">
            <button class="btn" id="btnRefresh">Aggiorna</button>
            <button class="btn primary" id="btnCreate">＋ Crea</button>
          </div>
        </div>
        <div class="list" id="list"></div>
      </div>

      <div class="card">
        <div class="cardHead">
          <div>
            <div class="cardTitle">Operazione</div>
            <div class="cardSub"><span id="opMeta">—</span></div>
          </div>
          <div class="row">
            <select class="in" id="m">
              <option>GET</option><option>POST</option><option>PUT</option><option>PATCH</option><option>DELETE</option>
            </select>
            <input class="in" id="p" placeholder="/api/...">
            <button class="btn primary" id="btnSend">Invia</button>
          </div>
        </div>

        <div class="field">
          <label>Body JSON</label>
          <textarea class="ta" id="b" spellcheck="false">{}</textarea>
        </div>

        <div class="row">
          <button class="btn" id="btnTemplate">Template</button>
          <button class="btn" id="btnClear">Pulisci</button>
        </div>

        <div class="respHead">
          <div class="cardTitle">Risposta</div>
          <div class="cardSub" id="respMeta">—</div>
        </div>
        <div class="err" id="err"></div>
        <pre class="pre" id="pre">{}</pre>
      </div>
    </section>
  </main>
</div>

<script defer src="/assets/admin-pro.js"></script>
</body>
</html>
